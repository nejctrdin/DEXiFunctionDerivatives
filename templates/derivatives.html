<!doctype html>
<title>DEXi function to derivatives</title>
<div>
  <h1>DEXi function to derivatives</h1>
  <h2>Input</h2>
  {{ entries.raw_function }}
  {% if entries.ok %}
    <h2>Tabelaric function</h2>
    <table border="1">
        <tr>
            {% for name in entries.arguments %}
                <th>{{ name }}</th>
            {% endfor %}
            <th>Output</th>
        </tr>
    {% for point in entries.function %}
        <tr>
            {% for p in point[0] %}
                <td>{{ p }}</td>
            {% endfor %}
            <td>{{ point[1] }}</td>
        </tr>
    {% endfor %}
    </table>

    <h2>Derivatives</h2>
    <table border="1">
        <tr>
            <th>Name</th>
            {% for point in entries.function %}
                <th>{{ point[0] }}</th>
            {% endfor %}
            <th>Average</th>
        </tr>
        {% for name in entries.arguments %}
            <tr>
                {% set tmp_counter = loop.index0 %}
                <td>{{ name }}</td>
                {% for _ in entries.function + [1] %}
                    <td>{{ entries.derivatives[loop.index0 + loop.length*tmp_counter] }}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
  {% else %}
    <b>Could not parse function!</b>
    <br>
    <b>{{ entries.message }}</b>
  {% endif %}
</div>
